<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script src="../../js/jquery-3.5.1.js"></script>
<script type="text/javascript">
$(function(){
	$("#btnText").click(function(){
		$.ajax({
			url : "text.txt"
			,success : function(data) {
				$("#divResult").html(data);
			}
		});
	})
	$("#btnHtml1").click(function(){
		$.ajax({
			url : "text_data.html"
			,success : function(data) {
				$("#divResult").html(data);
				//data
			}
		});
	})
	$("#btnHtml2").click(function(){
		$.ajax({
			url : "html_data.html"
			,success : function(data) {
				$("#divResult").html(data);
			}
		});
	})
	$("#btnJsonObj").click(function(){
		$.ajax({
// 			url : 'jsonsimpledata.jsp'
			url : 'json_data_1.txt'
			,dataType : 'json'
			,success : function(data){
				var result = "이름 : "  + data.name + "<br>";
				result += "전화번호 : " + data.tel + "<br>";
				result += "나이 : " + data.age + "<br>";
				$("#divResult").html(result);
			}
			,error : function(xhr){
				console.log(xhr);
				alert("오류.." + xhr.status );
			}
		})
	})
	$("#btnJsonArr").click(function(){
		$.ajax({
			url : 'json_arr_data.jsp'
// 			,data : //입력 되는 데이타 없다 , 전송할 데이타없다 , 생략 
			,dataType : 'json'
			,success : function(data) {//응답받는 부분 
				console.log(data);
				
				var html = "<ol>";
				$.each(data, function(i) {
					html += "<li>" + data[i] + "</li>";
				});
				html += "</ol>";
				
				$('#divResult').html(html);
			}
			,error : function(xhr) {
				alert("오류 발생.." + xhr.status);
			}
		})
	})
	$("#btnJsonList").click(function(){
		$.ajax({
			url : 'json_list_data.jsp'
			,dataType : 'json'
			,success : function(data) {
				console.log(data);
				
				var html = "";
				$.each(data, function(i) {
					html += (i+1) + "번째 회원 <br>";
					html += "이름 : " + data[i].name + "<br>";
					html += "주소 : " + data[i].addr + "<br>";
					html += "전화 : " + data[i].tel + "<br><br>";
				});
				$('#divResult').html(html);
			}
			,error : function(xhr) {
				alert("오류발생 : " + xhr.status );
			}
		})
	})
})


</script>
</head>
<body>
	<h1>AJAX로 데이터 가져오기 - 로컬 파일</h1>
	이름 : <input type="text" name="userName" id="userName">
	<br>
	나이 : <input type="text" name="age" id="age">
	<br>
	<br>
	<button type="button" id="btnText">텍스트</button>
	<button type="button" id="btnHtml1">HTML</button>
	<button type="button" id="btnHtml2">HTML</button>
	<br>
	<button type="button" id="btnJsonObj">JSON Obj</button>
	<button type="button" id="btnJsonArr">JSON 배열</button> 
	<button type="button" id="btnJsonList">JSON 목록</button>
	<hr>
	<div id="divResult" style="width: 45%; float: left;"></div>
	<div id="divResult1" style="width: 45%; float: right: ;"></div>
</body>
</html>