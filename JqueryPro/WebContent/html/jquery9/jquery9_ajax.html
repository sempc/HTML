<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<script src="../../js/jquery-3.6.0.js"></script>
</head>
<body>
	<form action="../jquery1/jquery1_basic.html" method="get" id="fm">
		이름:<input>
		<br>
		나이:<input>
		<br>
		<button type="submit">submit</button>
		<button type="button" onclick="fnGet()">get버튼</button>
		<button type="button">post버튼</button>
		<hr>
		<button type="button" onclick="fnAjax()">Ajax버튼</button>
		<hr>
		<button type="button" onclick="fnText()">텍스트</button>
		<button type="button" onclick="fnHtml()">HTML</button>
		<br>
		<button type="button" onclick="fnJsonObj()">JSON obj</button>
		<button type="button" onclick="fnJsonArr()">JSON 배열</button>
		<button type="button" onclick="fnJsonList()">JSON 목록</button>
		<br>
		<button type="button" onclick="fnXml()">XML</button>
		
	</form>
	<div id="divResult"></div>
</body>
<script type="text/javascript">
	function fnGet(){
		// submit 실행
		var fm = document.getElementById("fm");// <form>
		fm.action = "html1.html?userId=test01&password=asdf";// url 세팅
		fm.method = "post";
		fm.submit();
		
	}
	
	function fnAjax(){
		$.ajax({
			url : "intro.html"
			,type : "GET"
// 			,data :
// 			,dataType :
			,success : function(data){
				$("#divResult").html(data);
			}
			,error : function(){
				
			}
		});
		
	}
	
	function fnText(){
		$.ajax({
			url : "/JqueryPro/html/sample/data_text.txt"
// 			,type : "get"
// 			,data : {}
			,dataType : "html"
			,success : function(data){
				// 아래 둘다 무관. text 이기 때문에
// 				$("#divResult").text(data);
				$("#divResult").html(data);
			}
		});
	}
	
	function fnJsonObj(){
		$.ajax({
			url : "/JqueryPro/html/sample/data_json_obj.txt"
			,dataType : "json"
			,success : function(data){
				console.log(data);
				console.log(data.name);
				
				// div에 이름:~, 나이:~, 
				var str = "";
				str += "이름 : " + data.name + "<br>"
					+ "나이 : " + data.age + "<br>"
					+ "성별 : " + data.gender + "<br>"
					+ "직업 : " + data.job;
				
				$("#divResult").html(str);
				
			}
			
		});
	}
	
	function fnJsonArr(){
		console.log(">>>>>fnJsonArr호출");
		$.ajax({
			url : "/JqueryPro/html/sample/data_json_arr.txt"
			,dataType : "json"
			,success : function(data){
				console.log(">>>>> 성공:"+data);
				makeResult(data);
				
			}
			,error : function(data){
				console.log(">>>>> 오류:" + data);
				console.log(data);
			}
		});
		
	}
	
	function fnJsonList(){
		$.ajax({
			url : "/JqueryPro/html/sample/data_json_list.txt"
			,dataType : "json"
			,success : function(data){
				console.log(data);
				// 1번째 회원
				// 이름 :~
				// 나이 :~
				
// 				for(){
// 					var obj = data[i];
// 					obj.name
// 				}
			}
		});
	}
	
	function fnXml(){
		$.ajax({
			url : "cd_catalog.xml"
// 			,type : "get"//"post"
// 			,data : {}
			,dataType : "xml"
			,success : function(data){
				makeArtistList(data);

			}
			,error : function(xhr){
				console.log(xhr);
				alert("오류발생");
			}
				
		});
		
	}
	
	function makeResult(param){
		var str = "<ol>";
		for(var i=0 ; i<param.length ; i++){
			str += "<li>" + param[i] + "</li>";
		}
//		$.each(param, function(idx){
//			str += "<li>" + param[idx] + "</li>";
//		});
		str += "</ol>";
		
		$("#divResult").html(str);
			
	}
	
	function makeArtistList(param){
		console.log(param);//param ==> document
// 		console.log(param.getElementsByTagName("CATALOG"));
// 		console.log(param.getElementsByTagName("CD"));
//		document.getElementsByTagName("~")
//		childNodes
//		children
		var arr = param.getElementsByTagName("ARTIST");
		for(arr){
			
		}
		
		
	}
	
</script>


</html>



